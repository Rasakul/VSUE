Testsuite: test.ScenarioTest
Tests run: 5, Failures: 2, Errors: 0, Skipped: 0, Time elapsed: 43,204 sec
------------- Standard Output ---------------
00_login_test.txt
19:04:35.320		alice.vienna.at> !login alice.vienna.at 12345
Successfully logged in.
19:04:35.863		alice.vienna.at> !list
Online users: 
* alice.vienna.at
19:04:36.374		chatserver> !users
19:04:36.374		chatserver:
19:04:36.374		alice.vienna.at    : online
19:04:36.374		bill.de    : offline
19:04:36.374		steve.rome.it    : offline
19:04:36.874		alice.vienna.at> !exit
Successfully logged out.
19:04:36.883		alice.vienna.at: shutdown complete
19:04:37.374		chatserver> !exit
19:04:37.376		chatserver: Stopping server
################################################################################
01_publicMsg_test.txt
19:04:45.880		bill.de> !login bill.de 23456
Successfully logged in.
19:04:46.380		alice.vienna.at> !login alice.vienna.at 12345
Successfully logged in.
19:04:46.881		steve.rome.it> !login steve.rome.it 34567
Successfully logged in.
19:04:47.381		bill.de> !send hi everybody!
bill.de: hi everybody!
bill.de: hi everybody!

19:04:47.882		alice.vienna.at> !lastMsg
19:04:47.882		alice.vienna.at: bill.de: hi everybody!
19:04:48.383		steve.rome.it> !lastMsg
19:04:48.383		steve.rome.it: bill.de: hi everybody!
19:04:48.883		bill.de> !exit
Successfully logged out.
19:04:48.889		bill.de: shutdown complete
19:04:49.383		alice.vienna.at> !exit
Successfully logged out.
19:04:49.388		alice.vienna.at: shutdown complete
19:04:49.883		steve.rome.it> !exit
Successfully logged out.
19:04:49.888		steve.rome.it: shutdown complete
19:04:50.384		chatserver> !exit
19:04:50.386		chatserver: Stopping server
################################################################################
02_permission_test.txt
19:04:56.886		steve.rome.it> !login steve.rome.it 34567
Successfully logged in.
19:04:57.387		steve.rome.it> !register 127.0.0.1:56074
Successfully registered address for steve.rome.it
19:04:57.888		alice.vienna.at> !register 127.0.0.1:55074
19:04:57.889		alice.vienna.at: Permission denied, user not logged in!
19:04:58.388		alice.vienna.at> !logout
19:04:58.389		alice.vienna.at: please log in first
03_wrongInput_test.txt
Error, another server use my ports! Please shut down
Error, another server use my ports! Please shut down
19:05:04.897		alice.vienna.at> !login bob.berlin.de 23456
Wrong username or password.
19:05:05.397		alice.vienna.at> !login alice.vienna.at 23456
Wrong username or password.
19:05:05.897		alice.vienna.at> !exit
19:05:05.899		alice.vienna.at: shutdown complete
19:05:06.397		chatserver> !exit
19:05:06.398		chatserver: Stopping server
################################################################################
04_privateMsg_test.txt
Error, another server use my ports! Please shut down
Error, another server use my ports! Please shut down
19:05:12.901		bill.de> !login bill.de 23456
Successfully logged in.
19:05:13.401		bill.de> !register 127.0.0.1:14485
Successfully registered address for bill.de
19:05:13.903		steve.rome.it> !login steve.rome.it 34567
Error, already logged in
------------- ---------------- ---------------
------------- Standard Error -----------------
Nov 04, 2015 7:04:31 PM chatserver.Chatserver run
INFORMATION: Starting Server chatserver
Nov 04, 2015 7:04:31 PM chatserver.listener.TCPListener run
INFORMATION: TCP is UP!
Nov 04, 2015 7:04:31 PM chatserver.listener.UDPListener run
INFORMATION: UDP is UP!
Nov 04, 2015 7:04:33 PM client.Client run
INFORMATION: starting client alice.vienna.at
Nov 04, 2015 7:04:33 PM client.Client setupUDPServerConnection
INFORMATION: set up UDP connection to server
Nov 04, 2015 7:04:33 PM client.communication.UDPListener run
INFORMATION: UDP listening activ
Nov 04, 2015 7:04:35 PM client.Client setupTCPServerConnection
INFORMATION: set up TCP connection to server
Nov 04, 2015 7:04:35 PM client.communication.PublicListener run
INFORMATION: Server TCP listening activ
Nov 04, 2015 7:04:35 PM chatserver.worker.TCPWorker run
INFORMATION: New TCP Worker with ID 0with client /127.0.0.1:62388
Nov 04, 2015 7:04:36 PM client.Client exit
INFORMATION: shutting down client
Nov 04, 2015 7:04:36 PM client.Client closeTCPServerConnection
INFORMATION: close TCP connection to server
Nov 04, 2015 7:04:36 PM client.communication.PublicListener close
INFORMATION: closing TCP socket
Nov 04, 2015 7:04:36 PM chatserver.worker.TCPWorker close
INFORMATION: Stopping TCP Worker 0
Nov 04, 2015 7:04:36 PM channel.TCPChannel close
INFORMATION: Shutdown TCP channel
Nov 04, 2015 7:04:36 PM channel.TCPChannel close
INFORMATION: Shutdown TCP channel
Nov 04, 2015 7:04:36 PM channel.TCPChannel close
INFORMATION: Shutdown TCP channel
Nov 04, 2015 7:04:36 PM chatserver.worker.TCPWorker run
INFORMATION: Stopping TCP Worker 0
Nov 04, 2015 7:04:36 PM client.Client closeUDPServerConnection
INFORMATION: close UDP connection to server
Nov 04, 2015 7:04:36 PM channel.UDPChannel close
INFORMATION: Shutdown UDP channel
Nov 04, 2015 7:04:36 PM client.communication.UDPListener close
INFORMATION: closing UDP socket
Nov 04, 2015 7:04:36 PM channel.UDPChannel close
INFORMATION: Shutdown UDP channel
Nov 04, 2015 7:04:37 PM chatserver.Chatserver exit
INFORMATION: Shutting down chatserver
Nov 04, 2015 7:04:37 PM chatserver.listener.TCPListener close
INFORMATION: Stopping TCP Listener
Nov 04, 2015 7:04:37 PM chatserver.listener.UDPListener close
INFORMATION: Stopping UDP Listener
Nov 04, 2015 7:04:37 PM channel.UDPChannel close
INFORMATION: Shutdown UDP channel
Nov 04, 2015 7:04:37 PM chatserver.listener.TCPListener run
INFORMATION: Stopping TCP Listener
Nov 04, 2015 7:04:37 PM chatserver.Chatserver run
INFORMATION: Starting Server chatserver
Nov 04, 2015 7:04:37 PM chatserver.listener.UDPListener run
INFORMATION: UDP is UP!
Nov 04, 2015 7:04:37 PM chatserver.listener.TCPListener run
INFORMATION: TCP is UP!
Nov 04, 2015 7:04:39 PM client.Client run
INFORMATION: starting client bill.de
Nov 04, 2015 7:04:39 PM client.Client setupUDPServerConnection
INFORMATION: set up UDP connection to server
Nov 04, 2015 7:04:39 PM client.communication.UDPListener run
INFORMATION: UDP listening activ
Nov 04, 2015 7:04:41 PM client.Client run
INFORMATION: starting client alice.vienna.at
Nov 04, 2015 7:04:41 PM client.Client setupUDPServerConnection
INFORMATION: set up UDP connection to server
Nov 04, 2015 7:04:41 PM client.communication.UDPListener run
INFORMATION: UDP listening activ
Nov 04, 2015 7:04:43 PM client.Client run
INFORMATION: starting client steve.rome.it
Nov 04, 2015 7:04:43 PM client.Client setupUDPServerConnection
INFORMATION: set up UDP connection to server
Nov 04, 2015 7:04:43 PM client.communication.UDPListener run
INFORMATION: UDP listening activ
Nov 04, 2015 7:04:45 PM client.Client setupTCPServerConnection
INFORMATION: set up TCP connection to server
Nov 04, 2015 7:04:45 PM client.communication.PublicListener run
INFORMATION: Server TCP listening activ
Nov 04, 2015 7:04:45 PM chatserver.worker.TCPWorker run
INFORMATION: New TCP Worker with ID 1with client /127.0.0.1:62389
Nov 04, 2015 7:04:46 PM client.Client setupTCPServerConnection
INFORMATION: set up TCP connection to server
Nov 04, 2015 7:04:46 PM chatserver.worker.TCPWorker run
INFORMATION: New TCP Worker with ID 2with client /127.0.0.1:62390
Nov 04, 2015 7:04:46 PM client.communication.PublicListener run
INFORMATION: Server TCP listening activ
Nov 04, 2015 7:04:46 PM client.Client setupTCPServerConnection
INFORMATION: set up TCP connection to server
Nov 04, 2015 7:04:46 PM client.communication.PublicListener run
INFORMATION: Server TCP listening activ
Nov 04, 2015 7:04:46 PM chatserver.worker.TCPWorker run
INFORMATION: New TCP Worker with ID 3with client /127.0.0.1:62391
Nov 04, 2015 7:04:48 PM client.Client exit
INFORMATION: shutting down client
Nov 04, 2015 7:04:48 PM client.Client closeTCPServerConnection
INFORMATION: close TCP connection to server
Nov 04, 2015 7:04:48 PM client.communication.PublicListener close
INFORMATION: closing TCP socket
Nov 04, 2015 7:04:48 PM channel.TCPChannel close
INFORMATION: Shutdown TCP channel
Nov 04, 2015 7:04:48 PM channel.TCPChannel close
INFORMATION: Shutdown TCP channel
Nov 04, 2015 7:04:48 PM chatserver.worker.TCPWorker close
INFORMATION: Stopping TCP Worker 1
Nov 04, 2015 7:04:48 PM channel.TCPChannel close
INFORMATION: Shutdown TCP channel
Nov 04, 2015 7:04:48 PM client.Client closeUDPServerConnection
INFORMATION: close UDP connection to server
Nov 04, 2015 7:04:48 PM channel.UDPChannel close
INFORMATION: Shutdown UDP channel
Nov 04, 2015 7:04:48 PM client.communication.UDPListener close
INFORMATION: closing UDP socket
Nov 04, 2015 7:04:48 PM channel.UDPChannel close
INFORMATION: Shutdown UDP channel
Nov 04, 2015 7:04:48 PM chatserver.worker.TCPWorker run
INFORMATION: Stopping TCP Worker 1
Nov 04, 2015 7:04:49 PM client.Client exit
INFORMATION: shutting down client
Nov 04, 2015 7:04:49 PM client.Client closeTCPServerConnection
INFORMATION: close TCP connection to server
Nov 04, 2015 7:04:49 PM client.communication.PublicListener close
INFORMATION: closing TCP socket
Nov 04, 2015 7:04:49 PM channel.TCPChannel close
INFORMATION: Shutdown TCP channel
Nov 04, 2015 7:04:49 PM channel.TCPChannel close
INFORMATION: Shutdown TCP channel
Nov 04, 2015 7:04:49 PM chatserver.worker.TCPWorker close
INFORMATION: Stopping TCP Worker 2
Nov 04, 2015 7:04:49 PM channel.TCPChannel close
INFORMATION: Shutdown TCP channel
Nov 04, 2015 7:04:49 PM client.Client closeUDPServerConnection
INFORMATION: close UDP connection to server
Nov 04, 2015 7:04:49 PM channel.UDPChannel close
INFORMATION: Shutdown UDP channel
Nov 04, 2015 7:04:49 PM client.communication.UDPListener close
INFORMATION: closing UDP socket
Nov 04, 2015 7:04:49 PM channel.UDPChannel close
INFORMATION: Shutdown UDP channel
Nov 04, 2015 7:04:49 PM chatserver.worker.TCPWorker run
INFORMATION: Stopping TCP Worker 2
Nov 04, 2015 7:04:49 PM client.Client exit
INFORMATION: shutting down client
Nov 04, 2015 7:04:49 PM client.Client closeTCPServerConnection
INFORMATION: close TCP connection to server
Nov 04, 2015 7:04:49 PM client.communication.PublicListener close
INFORMATION: closing TCP socket
Nov 04, 2015 7:04:49 PM chatserver.worker.TCPWorker close
INFORMATION: Stopping TCP Worker 3
Nov 04, 2015 7:04:49 PM channel.TCPChannel close
INFORMATION: Shutdown TCP channel
Nov 04, 2015 7:04:49 PM channel.TCPChannel close
INFORMATION: Shutdown TCP channel
Nov 04, 2015 7:04:49 PM channel.TCPChannel close
INFORMATION: Shutdown TCP channel
Nov 04, 2015 7:04:49 PM chatserver.worker.TCPWorker run
INFORMATION: Stopping TCP Worker 3
Nov 04, 2015 7:04:49 PM client.Client closeUDPServerConnection
INFORMATION: close UDP connection to server
Nov 04, 2015 7:04:49 PM channel.UDPChannel close
INFORMATION: Shutdown UDP channel
Nov 04, 2015 7:04:49 PM client.communication.UDPListener close
INFORMATION: closing UDP socket
Nov 04, 2015 7:04:49 PM channel.UDPChannel close
INFORMATION: Shutdown UDP channel
Nov 04, 2015 7:04:50 PM chatserver.Chatserver exit
INFORMATION: Shutting down chatserver
Nov 04, 2015 7:04:50 PM chatserver.listener.TCPListener close
INFORMATION: Stopping TCP Listener
Nov 04, 2015 7:04:50 PM chatserver.listener.UDPListener close
INFORMATION: Stopping UDP Listener
Nov 04, 2015 7:04:50 PM channel.UDPChannel close
INFORMATION: Shutdown UDP channel
Nov 04, 2015 7:04:50 PM chatserver.listener.TCPListener run
INFORMATION: Stopping TCP Listener
Nov 04, 2015 7:04:50 PM chatserver.Chatserver run
INFORMATION: Starting Server chatserver
Nov 04, 2015 7:04:50 PM chatserver.listener.TCPListener run
INFORMATION: TCP is UP!
Nov 04, 2015 7:04:50 PM chatserver.listener.UDPListener run
INFORMATION: UDP is UP!
Nov 04, 2015 7:04:52 PM client.Client run
INFORMATION: starting client alice.vienna.at
Nov 04, 2015 7:04:52 PM client.Client setupUDPServerConnection
INFORMATION: set up UDP connection to server
Nov 04, 2015 7:04:52 PM client.communication.UDPListener run
INFORMATION: UDP listening activ
Nov 04, 2015 7:04:54 PM client.Client run
INFORMATION: starting client steve.rome.it
Nov 04, 2015 7:04:54 PM client.Client setupUDPServerConnection
INFORMATION: set up UDP connection to server
Nov 04, 2015 7:04:54 PM client.communication.UDPListener run
INFORMATION: UDP listening activ
Nov 04, 2015 7:04:56 PM client.Client setupTCPServerConnection
INFORMATION: set up TCP connection to server
Nov 04, 2015 7:04:56 PM client.communication.PublicListener run
INFORMATION: Server TCP listening activ
Nov 04, 2015 7:04:56 PM chatserver.worker.TCPWorker run
INFORMATION: New TCP Worker with ID 4with client /127.0.0.1:62392
Nov 04, 2015 7:04:57 PM client.communication.PrivateListener run
INFORMATION: Private TCP listening activ
Nov 04, 2015 7:04:58 PM chatserver.Chatserver run
INFORMATION: Starting Server chatserver
Nov 04, 2015 7:04:58 PM chatserver.listener.TCPListener run
INFORMATION: Stopping TCP Listener
Nov 04, 2015 7:05:00 PM client.Client run
INFORMATION: starting client alice.vienna.at
Nov 04, 2015 7:05:00 PM client.Client setupUDPServerConnection
INFORMATION: set up UDP connection to server
Nov 04, 2015 7:05:00 PM client.communication.UDPListener run
INFORMATION: UDP listening activ
Nov 04, 2015 7:05:02 PM client.Client run
INFORMATION: starting client steve.rome.it
Nov 04, 2015 7:05:02 PM client.Client setupUDPServerConnection
INFORMATION: set up UDP connection to server
Nov 04, 2015 7:05:02 PM client.communication.UDPListener run
INFORMATION: UDP listening activ
Nov 04, 2015 7:05:04 PM client.Client setupTCPServerConnection
INFORMATION: set up TCP connection to server
Nov 04, 2015 7:05:04 PM client.communication.PublicListener run
INFORMATION: Server TCP listening activ
Nov 04, 2015 7:05:04 PM chatserver.worker.TCPWorker run
INFORMATION: New TCP Worker with ID 5with client /127.0.0.1:62393
Nov 04, 2015 7:05:05 PM client.Client setupTCPServerConnection
INFORMATION: set up TCP connection to server
Nov 04, 2015 7:05:05 PM client.communication.PublicListener run
INFORMATION: Server TCP listening activ
Nov 04, 2015 7:05:05 PM chatserver.worker.TCPWorker run
INFORMATION: New TCP Worker with ID 6with client /127.0.0.1:62394
Nov 04, 2015 7:05:05 PM client.Client exit
INFORMATION: shutting down client
Nov 04, 2015 7:05:05 PM client.Client closeUDPServerConnection
INFORMATION: close UDP connection to server
Nov 04, 2015 7:05:05 PM channel.UDPChannel close
INFORMATION: Shutdown UDP channel
Nov 04, 2015 7:05:05 PM client.communication.UDPListener close
INFORMATION: closing UDP socket
Nov 04, 2015 7:05:05 PM channel.UDPChannel close
INFORMATION: Shutdown UDP channel
Nov 04, 2015 7:05:06 PM chatserver.Chatserver exit
INFORMATION: Shutting down chatserver
Nov 04, 2015 7:05:06 PM chatserver.listener.TCPListener close
INFORMATION: Stopping TCP Listener
Nov 04, 2015 7:05:06 PM chatserver.listener.UDPListener close
INFORMATION: Stopping UDP Listener
Nov 04, 2015 7:05:06 PM chatserver.Chatserver run
INFORMATION: Starting Server chatserver
Nov 04, 2015 7:05:06 PM chatserver.listener.TCPListener run
INFORMATION: Stopping TCP Listener
Nov 04, 2015 7:05:08 PM client.Client run
INFORMATION: starting client bill.de
Nov 04, 2015 7:05:08 PM client.Client setupUDPServerConnection
INFORMATION: set up UDP connection to server
Nov 04, 2015 7:05:08 PM client.communication.UDPListener run
INFORMATION: UDP listening activ
Nov 04, 2015 7:05:10 PM client.Client run
INFORMATION: starting client steve.rome.it
Nov 04, 2015 7:05:10 PM client.Client setupUDPServerConnection
INFORMATION: set up UDP connection to server
Nov 04, 2015 7:05:10 PM client.communication.UDPListener run
INFORMATION: UDP listening activ
Nov 04, 2015 7:05:12 PM client.Client setupTCPServerConnection
INFORMATION: set up TCP connection to server
Nov 04, 2015 7:05:12 PM client.communication.PublicListener run
INFORMATION: Server TCP listening activ
Nov 04, 2015 7:05:12 PM chatserver.worker.TCPWorker run
INFORMATION: New TCP Worker with ID 7with client /127.0.0.1:62395
Nov 04, 2015 7:05:13 PM client.communication.PrivateListener run
INFORMATION: Private TCP listening activ
Nov 04, 2015 7:05:13 PM client.Client setupTCPServerConnection
INFORMATION: set up TCP connection to server
Nov 04, 2015 7:05:13 PM client.communication.PublicListener run
INFORMATION: Server TCP listening activ
Nov 04, 2015 7:05:13 PM chatserver.worker.TCPWorker run
INFORMATION: New TCP Worker with ID 8with client /127.0.0.1:62396
------------- ---------------- ---------------

Testcase: 00_login_test took 6,653 sec
Testcase: 01_publicMsg_test took 13,006 sec
Testcase: 02_permission_test took 8,008 sec
	FAILED
String must match pattern '.*Unknown username.*' but was:
19:04:58.388		alice.vienna.at> !logout
19:04:58.389		alice.vienna.at: please log in first
Expected: matches pattern .*Unknown username.*
     but: was "19:04:58.388\t\talice.vienna.at> !logout\n19:04:58.389\t\talice.vienna.at: please log in first"
junit.framework.AssertionFailedError: String must match pattern '.*Unknown username.*' but was:
19:04:58.388		alice.vienna.at> !logout
19:04:58.389		alice.vienna.at: please log in first
Expected: matches pattern .*Unknown username.*
     but: was "19:04:58.388\t\talice.vienna.at> !logout\n19:04:58.389\t\talice.vienna.at: please log in first"
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
	at test.ScenarioTest.verify(ScenarioTest.java:170)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:72)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:133)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:85)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:115)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:240)
	at test.ScenarioTest.runStep(ScenarioTest.java:105)
	at test.ScenarioTest.test(ScenarioTest.java:62)
	at test.scenario.ScenarioRunner$1.evaluate(ScenarioRunner.java:78)
	at com.intellij.rt.ant.execution.AntMain2.main(AntMain2.java:30)

Testcase: 03_wrongInput_test took 8,005 sec
Testcase: 04_privateMsg_test took 7,505 sec
	FAILED
String must match pattern '.*Successfully logged in.*' but was:
19:05:13.903		steve.rome.it> !login steve.rome.it 34567
Error, already logged in
Expected: matches pattern .*Successfully logged in.*
     but: was "19:05:13.903\t\tsteve.rome.it> !login steve.rome.it 34567\nError, already logged in"
junit.framework.AssertionFailedError: String must match pattern '.*Successfully logged in.*' but was:
19:05:13.903		steve.rome.it> !login steve.rome.it 34567
Error, already logged in
Expected: matches pattern .*Successfully logged in.*
     but: was "19:05:13.903\t\tsteve.rome.it> !login steve.rome.it 34567\nError, already logged in"
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
	at test.ScenarioTest.verify(ScenarioTest.java:170)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:72)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:133)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:85)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:115)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:240)
	at test.ScenarioTest.runStep(ScenarioTest.java:105)
	at test.ScenarioTest.test(ScenarioTest.java:62)
	at test.scenario.ScenarioRunner$1.evaluate(ScenarioRunner.java:78)
	at com.intellij.rt.ant.execution.AntMain2.main(AntMain2.java:30)

